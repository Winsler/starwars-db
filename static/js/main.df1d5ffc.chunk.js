(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},27:function(e,t,a){e.exports=a(45)},32:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),l=a.n(i),o=a(9),c=a(10),s=a(14),m=a(13),u=a(15),d=a(5),E=a(7),h=(a(32),function(){return r.a.createElement("div",{className:"header d-flex"},r.a.createElement("h1",{className:"header__title"},r.a.createElement(d.b,{to:"/",className:"header__link header__title-link"},"StarWars DB")),r.a.createElement("ul",{className:"d-flex header__links-list"},r.a.createElement("li",{className:"header__links-list-item"},r.a.createElement(d.b,{to:"/peoples/",className:"header__link header__links-link"},"People")),r.a.createElement("li",{className:"header__links-list-item"},r.a.createElement(d.b,{to:"/planets/",className:"header__link header__links-link"},"Planets")),r.a.createElement("li",{className:"header__links-list-item"},r.a.createElement(d.b,{to:"/starships/",className:"header__link header__links-link"},"Starships"))))}),f=r.a.createContext(),p=f.Provider,g=f.Consumer,N=function(e){return{swapiService:e}},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N;return function(a){return r.a.createElement(g,null,function(n){var i=t(n);return r.a.createElement(e,Object.assign({},a,i))})}},U=a(11),v=(a(37),function(){return r.a.createElement("div",{className:"lds-css ng-scope spinner"},r.a.createElement("div",{className:"lds-double-ring"},r.a.createElement("div",null),r.a.createElement("div",null)))}),b=a(26),w=a.n(b),S=(a(38),function(){return r.a.createElement("div",{className:"error-indicator"},r.a.createElement("img",{src:w.a,alt:"error"}),r.a.createElement("p",null,"Something go wrong..."),r.a.createElement("p",null,"But We already sent R2-D2 to fix this..."))}),W=function(e){return function(t){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={isLoad:!1,isError:!1,data:void 0},t.onError=function(e){window.console.log(e),t.setState({isLoad:!1,isError:!0})},t.udpdateItem=function(){var e=t.props.options,a=(e=void 0===e?{}:e).showSpinner;(void 0===a||a)&&t.setState({isLoad:!0});var n=t.props.dataID;t.props.getData(n).then(function(e){t.setState({data:e,isLoad:!1})}).catch(t.onError)},t}return Object(u.a)(a,t),Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){e.dataID!==this.props.dataID&&this.udpdateItem()}},{key:"componentDidMount",value:function(){var e=this;this.udpdateItem();var t=this.props.options;if((t=void 0===t?{}:t).iterate){var a=this.props.options.delay,n=void 0===a?5e3:a;if(!Number.isFinite(n))throw new Error("Expected delay as number but has a ".concat(typeof n));this.timerID=setInterval(function(){return e.udpdateItem()},n)}}},{key:"componentWillUnmount",value:function(){this.timerID&&clearInterval(this.timerID)}},{key:"render",value:function(){var t=this.state,a=t.isLoad,n=t.isError;if(a)return r.a.createElement(v,null);if(n)return r.a.createElement(S,null);var i=this.state.data,l=this.props,o=(l.dataID,Object(U.a)(l,["dataID"]));return r.a.createElement(e,Object.assign({data:i},o))}}]),a}(n.Component)},D=(a(39),a(40),function(e){var t=e.item,a=e.field,n=e.label;return r.a.createElement("li",{className:"item-details__description-item"},r.a.createElement("span",{className:"item-details__description-term-text"},n,":"),r.a.createElement("span",null,t[a]))}),I=function(e){var t=e.item,a=e.children,n=t.imgUrl,i=t.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"item-details__image",src:n,alt:"item"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",null,i),r.a.createElement("ul",{className:"list-group list-group-flush item-details__description"},a)))},M=function(e){var t=e.data,a=e.children,n=t.name?r.a.createElement(I,{item:t},r.a.Children.map(a,function(e){return r.a.cloneElement(e,{item:t})})):r.a.createElement("span",null,"Please, Select an Element from the list.");return r.a.createElement("div",{className:"item-details card"},n)};M.defaultProps={data:{}};var j=W(M),y=function(e){var t=e.item;return r.a.createElement(I,{item:t},r.a.createElement(D,{item:t,label:"Population",field:"population"}),r.a.createElement(D,{item:t,label:"Rotation Period",field:"rotationPeriod"}),r.a.createElement(D,{item:t,label:"Diameter",field:"diameter"}))},k=function(e){var t=e.item;return r.a.createElement(I,{item:t},r.a.createElement(D,{item:t,label:"Model",field:"model"}),r.a.createElement(D,{item:t,label:"Cost",field:"costInCredits"}),r.a.createElement(D,{item:t,label:"Capacity",field:"cargoCapacity"}))},O=function(e){var t=e.item;return r.a.createElement(I,{item:t},r.a.createElement(D,{item:t,label:"Gender",field:"gender"}),r.a.createElement(D,{item:t,label:"Birth Year",field:"birthYear"}),r.a.createElement(D,{item:t,label:"Eye Color",field:"eyeColor"}))},P=function(e){var t=e.data,a=void 0===t?{}:t,n=a.gender?O:a.model?k:y;return r.a.createElement(n,{item:a})},C=A(function(e){var t=e.getRandomItem,a=W(P);return r.a.createElement("div",{className:"random-item jumbotron rounded"},r.a.createElement(a,{getData:t,options:{iterate:!0,delay:7500,showSpinner:!1}}))},function(e){return{getRandomItem:e.getRandomItem}}),V=(a(41),function(){return r.a.createElement("div",{className:"card d-flex justify-content-center align-items-center greeting"},r.a.createElement("span",null,"Welcome to StarWars Data Base."),r.a.createElement("span",null,"Choose section in the menu above... "))}),T=(a(42),function(e){var t=e.data,a=e.getItemData,n=e.history,i=function(e){return e.map(function(e){var t=e.id,i=a(e).label;return r.a.createElement("li",{className:"list-group-item item-list__item",key:t,onClick:function(){return n.push(t)}},i)})}(t);return r.a.createElement("ul",{className:"list-group item-list"},i)});T.defaultProps={data:[]};var _=Object(E.g)(W(T)),F=function(e){return{label:e.name}},B=function(e){return function(t){return r.a.createElement(_,Object.assign({getItemData:e},t))}},R=A(B(function(e){var t="n/a"===e.gender?"robot":e.gender;return{label:"".concat(e.name," (").concat(t,")")}}),function(e){return{getData:e.getAllPersons}}),L=A(B(F),function(e){return{getData:e.getAllPlanets}}),G=A(B(F),function(e){return{getData:e.getAllStarships}}),x=A(function(e){var t=e.itemID,a=e.swapiService,n=Object(U.a)(e,["itemID","swapiService"]);return r.a.createElement(j,Object.assign({dataID:t,getData:a.getPerson},n),r.a.createElement(D,{label:"Gender",field:"gender"}),r.a.createElement(D,{label:"Birth Year",field:"birthYear"}),r.a.createElement(D,{label:"Eye Color",field:"eyeColor"}))}),Q=A(function(e){var t=e.itemID,a=e.swapiService,n=Object(U.a)(e,["itemID","swapiService"]);return r.a.createElement(j,Object.assign({dataID:t,getData:a.getStarship},n),r.a.createElement(D,{label:"Model",field:"model"}),r.a.createElement(D,{label:"Cost",field:"costInCredits"}),r.a.createElement(D,{label:"Capacity",field:"cargoCapacity"}))}),K=A(function(e){var t=e.itemID,a=e.swapiService,n=Object(U.a)(e,["itemID","swapiService"]);return r.a.createElement(j,Object.assign({dataID:t,getData:a.getPlanet},n),r.a.createElement(D,{label:"Population",field:"population"}),r.a.createElement(D,{label:"Rotation Period",field:"rotationPeriod"}),r.a.createElement(D,{label:"Diameter",field:"diameter"}))}),Z=(a(43),function(e){var t=e.left,a=e.right;return r.a.createElement("div",{className:"row mb2"},r.a.createElement("div",{className:"col-md-4"},t),r.a.createElement("div",{className:"col-md-8"},a))}),H=function(e,t){return function(a){var n=a.itemID,i=r.a.createElement(e,null),l=r.a.createElement(t,{itemID:n});return r.a.createElement(Z,{left:i,right:l})}},X=H(R,x),J=H(G,Q),z=H(L,K),Y=a(8),q=a(19),$=function(){function e(){var t=this;Object(o.a)(this,e),Object.defineProperty(this,ee,{writable:!0,value:"https://swapi.co/api/"}),Object.defineProperty(this,te,{writable:!0,value:"https://starwars-visualguide.com/assets/img/"}),this.getAllPersons=function(){var e="".concat(Object(Y.a)(t,ee)[ee],"people");return t.getData(e).then(function(e){return e.results}).then(function(e){return e.map(t.transformPerson)}).catch(window.console.log.bind(window.console))},this.getPerson=function(a){if(!e.isValidID(a))return Promise.resolve(void 0);var n="".concat(Object(Y.a)(t,ee)[ee],"people/").concat(a);return t.getData(n).then(t.transformPerson).catch(window.console.log.bind(window.console))},this.getAllStarships=function(){var e="".concat(Object(Y.a)(t,ee)[ee],"starships");return t.getData(e).then(function(e){return e.results}).then(function(e){return e.map(t.transformStarship)}).catch(window.console.log.bind(window.console))},this.getStarship=function(a){if(!e.isValidID(a))return Promise.resolve(void 0);var n="".concat(Object(Y.a)(t,ee)[ee],"starships/").concat(a);return t.getData(n).then(t.transformStarship).catch(window.console.log.bind(window.console))},this.getAllPlanets=function(){var e="".concat(Object(Y.a)(t,ee)[ee],"planets");return t.getData(e).then(function(e){return e.results}).then(function(e){return e.map(t.transformPlanet)}).catch(window.console.log.bind(window.console))},this.getPlanet=function(a){if(!e.isValidID(a))return Promise.resolve(void 0);var n="".concat(Object(Y.a)(t,ee)[ee],"planets/").concat(a);return t.getData(n).then(t.transformPlanet)},this.getRandomPlanet=function(){var e=Math.floor(19*Math.random())+1;return t.getPlanet(e)},this.getRandomStarhip=function(){var e=Math.floor(19*Math.random())+1;return t.getPerson(e)},this.getRandomPerson=function(){var e=Math.floor(19*Math.random())+1;return t.getStarship(e)},this.getRandomItem=function(){var e=Math.random();return e<.33?t.getRandomPerson():e<.66?t.getRandomPlanet():t.getRandomStarhip()},this.getIdFromUrl=function(e){return e.match(/([0-9]+)/)[1]},this.transformPlanet=function(e){var a=t.getIdFromUrl(e.url);return{id:a,imgUrl:t.getImageUrl("planets",a),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter}},this.transformPerson=function(e){var a=t.getIdFromUrl(e.url);return{id:a,imgUrl:t.getImageUrl("characters",a),name:e.name,birthYear:e.birth_year,eyeColor:e.eye_color,gender:e.gender}},this.transformStarship=function(e){var a=t.getIdFromUrl(e.url);return{id:a,imgUrl:t.getImageUrl("starships",a),name:e.name,model:e.model,costInCredits:e.cost_in_credits,cargoCapacity:e.cargo_capacity}}}return Object(c.a)(e,[{key:"getData",value:function(e){return fetch(e).then(function(t){if(!t.ok)throw new Error("Could not feth ".concat(e,", received ").concat(t.status));return t.json()}).catch(window.console.log.bind(window.console))}},{key:"getImageUrl",value:function(e,t){return"".concat(Object(Y.a)(this,te)[te]).concat(e,"/").concat(t,".jpg")}}],[{key:"isValidID",value:function(e){return!!Number.isFinite(parseInt(e))}}]),e}(),ee=Object(q.a)("url"),te=Object(q.a)("imgUrl"),ae=(a(44),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).swapiService=new $,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p,{value:this.swapiService},r.a.createElement(d.a,null,r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(h,null),r.a.createElement(C,null),r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/",exact:!0,component:V}),r.a.createElement(E.b,{path:"/peoples/:id?",render:function(e){var t=e.match.params.id;return r.a.createElement(X,{itemID:t})}}),r.a.createElement(E.b,{path:"/planets/:id?",render:function(e){var t=e.match.params.id;return r.a.createElement(z,{itemID:t})}})," />",r.a.createElement(E.b,{path:"/starships/:id?",render:function(e){var t=e.match.params.id;return r.a.createElement(J,{itemID:t})}})," />",r.a.createElement(E.a,{to:"/"})))))}}]),t}(n.Component)),ne=document.body.querySelector("#root");l.a.render(r.a.createElement(ae,null),ne)}},[[27,1,2]]]);
//# sourceMappingURL=main.df1d5ffc.chunk.js.map